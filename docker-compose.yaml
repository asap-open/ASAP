services:
  server:
    image: sarthakg0yal/asap-server:0.3.4-test
    container_name: server
    ports:
      - "3000:3000"
    environment:
      - PORT=3000
      - DATABASE_URL=postgresql://postgres:12345@host.docker.internal:5432/tool-main?schema=public
      - DATABASE_TYPE=postgresql
      - JWT_SECRET=your_jwt_secret_key
      - TOKEN_EXP=7d
      - PORT=3000
      - FRONTEND_DOMAIN=http://localhost:5173
      - NODE_ENV=production
    extra_hosts:
      - "host.docker.internal:host-gateway"
  client:
    image: sarthakg0yal/asap-client:0.2.5-test
    container_name: client
    environment:
      - BACKEND_SERVER_URL=http://server:3000
      - DOMAIN_NAME=domain.com
    ports:
      - "5173:80"
    depends_on:
      - server
